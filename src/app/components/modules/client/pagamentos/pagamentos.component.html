<!-- pagamentos.component.html -->

<div *ngIf="detalhesDaMesa" [style.margin-bottom.px]="alturaBarraInferior">
  <!-- Card para o Total Consumido no topo -->
  <app-total-card [total]="detalhesDaMesa.totalMesa"></app-total-card>

  <!-- Container para os cards dos consumidores -->
  <div class="container-cards" [style.padding-bottom.px]="alturaBarraInferior">
    <!-- Iteração sobre os consumidores para criar um card para cada um -->
    <div
      *ngFor="let consumidor of detalhesDaMesa.consumidores"
      class="card shadow"
    >
      <div class="card-content">
        <div class="avatar-container">
          <img
            [src]="consumidor.avatar"
            class="avatar"
            alt="Avatar do Consumidor"
          />
          <span class="nome-consumidor">{{ consumidor.nome }}</span>
        </div>
        <p class="total-consumido">
          Total Consumido: {{ consumidor.totalConsumido | currency }}
        </p>
        <hr class="divisor" />
        <div class="lista-produtos">
          <div *ngFor="let categoria of consumidor.categorias | keyvalue">
            <strong>{{ categoria.key }}:</strong>
            <ul>
              <li *ngFor="let produto of categoria.value | keyvalue">
                {{ produto.value.quantidade }}x - {{ produto.key }}
                <span *ngIf="produto.value.detalhesDivisao">
                  - Total Divisões:
                  {{ produto.value.detalhesDivisao.totalDivisoes }}
                </span>
              </li>
            </ul>
          </div>
        </div>
        <button class="btn-pagar">Pagar</button>
      </div>
    </div>
  </div>
</div>
